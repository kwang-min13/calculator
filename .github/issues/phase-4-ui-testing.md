## 작업 배경

Phase 3에서 구현한 UI와 Phase 2의 코어 로직이 정상적으로 통합되었는지 검증하고, 다양한 환경에서 수동 테스트를 수행합니다. 이 단계에서는 자동화된 UI 테스트 대신 실제 사용자 시나리오를 기반으로 한 수동 테스트를 진행하여 품질을 보장합니다.

**주의**: UI는 자동화 테스트를 하지 않으며, 모든 테스트는 브라우저에서 수동으로 진행합니다.

## 작업 내용

### 4.1 코어 로직 통합 테스트 (자동화)
- [ ] Calculator 클래스 통합 테스트 작성
  - [ ] Parser + Evaluator 통합 동작 확인
  - [ ] 복잡한 수식 계산 테스트 ("2 + 3 × 4 - 5" = 9)
  - [ ] 중첩 함수 테스트 ("sin(cos(45))")
  - [ ] 에러 처리 통합 테스트
- [ ] 테스트 커버리지 확인
  - [ ] `npm run test -- --coverage` 실행
  - [ ] 코어 로직 90% 이상 달성 확인
  - [ ] 누락된 테스트 케이스 추가

### 4.2 UI 수동 테스트 (자동화 없음)
**기본 계산 플로우**
- [ ] 숫자 입력 → 연산자 → = 버튼
  - 테스트: "7" + "+" + "3" + "=" → "10"
- [ ] 결과 표시 확인 (폰트, 크기, 정렬)
- [ ] AC 버튼으로 초기화 → "0"

**공학 함수**
- [ ] sin, cos, tan 함수 동작 확인
  - 테스트: DEG 모드에서 "sin(45)" → "0.707..."
- [ ] ln, log, sqrt 함수 동작 확인
  - 테스트: "ln(2.718)" → "1" (근사값)
- [ ] DEG/RAD 모드 전환 확인
  - 테스트: RAD 모드에서 "sin(1.57)" → "1" (π/2 근사값)

**에러 처리**
- [ ] 0으로 나누기 에러 메시지
  - 테스트: "10" + "÷" + "0" + "=" → "Math Error"
- [ ] 잘못된 수식 입력 처리
- [ ] 에러 후 복구 동작 (AC 클릭 후 정상 동작)

**키보드 입력**
- [ ] 숫자 키 입력 (0-9, .)
- [ ] 연산자 키 입력 (+, -, *, /)
- [ ] Enter 키로 계산
- [ ] Escape 키로 초기화
- [ ] Backspace 키로 마지막 문자 삭제

### 4.3 접근성 수동 검증
**ARIA 속성 추가**
- [ ] 버튼에 aria-label 추가 (예: "Number 7", "Add operator")
- [ ] 디스플레이에 aria-live="polite" 추가
- [ ] 역할 정의 (role="button", role="region") 추가

**키보드 네비게이션**
- [ ] Tab 키로 포커스 이동 확인
- [ ] Enter/Space로 버튼 활성화 확인
- [ ] 포커스 표시 스타일 확인 (outline 또는 ring)

**스크린 리더 (선택사항)**
- [ ] NVDA 또는 VoiceOver로 테스트
- [ ] 버튼 레이블 읽기 확인
- [ ] 결과 변경 알림 확인

### 4.4 크로스 브라우저 수동 테스트
**Chrome (최신 버전)**
- [ ] 기본 기능 동작 확인
- [ ] 다크모드 전환 확인
- [ ] DevTools에서 콘솔 에러 확인

**Firefox**
- [ ] 기본 기능 동작 확인
- [ ] 레이아웃 깨짐 확인 (특히 grid, flexbox)

**Safari (가능한 경우)**
- [ ] 기본 기능 동작 확인
- [ ] iOS Safari 호환성 확인

**Edge**
- [ ] 기본 기능 동작 확인

**모바일 브라우저**
- [ ] Chrome Android 테스트 (터치 인터랙션)
- [ ] iOS Safari 테스트 (가능한 경우)

### 4.5 반응형 디자인 수동 검증
**모바일 뷰포트 (320px ~ 480px)**
- [ ] 버튼 크기 및 간격 확인 (h-14 = 56px)
- [ ] 텍스트 가독성 확인 (최소 16px)
- [ ] 터치 타겟 크기 확인 (최소 44px)
- [ ] 가로 스크롤 없음 확인

**태블릿 뷰포트 (768px ~ 1024px)**
- [ ] 레이아웃 확인 (중앙 정렬)
- [ ] 버튼 크기 증가 확인 (md:h-16 = 64px)

**데스크톱 뷰포트 (1024px+)**
- [ ] 최대 너비 제한 확인 (max-w-md = 448px)
- [ ] 그림자 효과 확인 (shadow-2xl)
- [ ] 중앙 정렬 확인

**가로/세로 모드 전환**
- [ ] 모바일 가로 모드 (landscape)
- [ ] 태블릿 세로 모드 (portrait)

## 인수 조건 (Acceptance Criteria)

### 필수 조건
- [ ] 코어 로직 테스트 커버리지 90% 이상
- [ ] 모든 기본 계산 시나리오가 정상 동작함
- [ ] 공학 함수가 정확한 값을 반환함 (오차 범위 ±0.001)
- [ ] 에러 처리가 정상 동작함 (에러 메시지 표시 및 복구)
- [ ] 키보드 입력이 모두 정상 동작함
- [ ] Chrome, Firefox, Edge에서 정상 동작함
- [ ] 모바일 뷰포트에서 터치 타겟이 44px 이상임
- [ ] ARIA 속성이 모든 인터랙티브 요소에 추가됨

### 테스트 체크리스트
**기능 테스트**
- [ ] 사칙연산 (+, -, ×, ÷)
- [ ] 공학 함수 (sin, cos, tan, ln, log, sqrt, ^)
- [ ] 괄호 사용
- [ ] DEG/RAD 모드 전환
- [ ] AC (초기화)
- [ ] Backspace (삭제)
- [ ] 키보드 입력

**UI/UX 테스트**
- [ ] 버튼 hover 효과 (brightness-95)
- [ ] 버튼 active 효과 (scale-95)
- [ ] 다크모드 전환
- [ ] 반응형 레이아웃 (모바일, 태블릿, 데스크톱)

**에러 처리 테스트**
- [ ] 0으로 나누기
- [ ] 음수의 로그/제곱근
- [ ] 잘못된 수식 (괄호 불일치 등)

### 검증 방법
1. **수동 테스트 실행**
   ```bash
   npm run dev
   # 브라우저에서 http://localhost:5173 접속
   # 위의 테스트 체크리스트 항목들을 하나씩 수행
   ```

2. **코어 로직 커버리지 확인**
   ```bash
   npm run test -- --coverage
   # Coverage Summary 확인: Statements, Branches, Functions, Lines 모두 90% 이상
   ```

3. **크로스 브라우저 테스트**
   - BrowserStack 또는 실제 디바이스 사용
   - 각 브라우저에서 기본 계산 시나리오 실행

4. **반응형 테스트**
   - Chrome DevTools → Device Toolbar
   - 다양한 뷰포트 크기에서 테스트

## 참고 문서
- [TECH_SPEC.md](../TECH_SPEC.md) - 섹션 8: 테스트 전략
- [docs/rules/tdd.md](../docs/rules/tdd.md) - UI 수동 테스트 가이드

## 예상 소요 시간
**2-3일**

## 라벨
`phase-4` `testing` `integration` `manual-testing` `priority-high`
